<!DOCTYPE html>
<!-- 
Jampack
Author: Hencework
Contact: contact@hencework.com
-->
<html lang="en">

<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | View Banners</title>
    <meta name="description"
        content="A modern CRM Dashboard Template with reusable and flexible components for your SaaS web applications by hencework. Based on Bootstrap." />

	<!-- Favicon -->
	<link rel="shortcut icon" href="/dist/img/favicon.png">
	<link rel="icon" href="favicon.ico" type="image/x-icon">

	<!-- Bootstrap Dropify CSS -->
	<link href="/vendors/dropify/dist/css/dropify.min.css" rel="stylesheet" type="text/css" />

	<!-- select2 CSS -->
	<link href="/vendors/select2/dist/css/select2.min.css" rel="stylesheet" type="text/css" />

	<!-- Data Table CSS -->
	<link href="/vendors/datatables.net-bs5/css/dataTables.bootstrap5.min.css" rel="stylesheet" type="text/css" />
	<link href="/vendors/datatables.net-responsive-bs5/css/responsive.bootstrap5.min.css" rel="stylesheet"
		type="text/css" />

	<!-- CSS -->
	<link href="/dist/css/style.css" rel="stylesheet" type="text/css">

	<!-- Toastr  -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet" />

    <style>
        .dot-active {
            margin-left: 10px;
            height: 13px;
            width: 13px;
            background-color: rgb(19, 170, 19);
            border-radius: 50%;
            display: inline-block;
        }

        .dot-deactive {
            margin-left: 10px;
            height: 13px;
            width: 13px;
            background-color: rgb(224, 59, 37);
            border-radius: 50%;
            display: inline-block;
        }
    </style>

</head>

<body style="font-size: 15px;">
    <!-- Wrapper -->
    <div class="hk-wrapper" data-layout="vertical" data-layout-style="collapsed" data-menu="light" data-footer="simple"
        data-hover="active">

        <!-- /Header -->
        <%- include('includes/header.ejs'); %>

            <!-- Vertical Nav -->
            <div class="hk-menu">
                <!-- Brand -->
                <div class="menu-header">
                    <span>
                        <a class="navbar-brand" href="/home">
                            <img class="brand-img img-fluid" src="/dist/img/icon.png" width="45" height="70" alt="Logo"
                                style="padding-bottom: 10px; padding-top: 15px;" />
                            <span
                                style="font-family: 'Barlow',sans-serif; font-size: 14px; font-weight: bold;padding-left: 10px;">KANDY
                                PHARMACY</span>
                        </a>

                        <button class="btn btn-icon btn-rounded btn-flush-dark flush-soft-hover navbar-toggle">
                            <span class="icon">
                                <span class="svg-icon fs-5">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                        class="icon icon-tabler icon-tabler-arrow-bar-to-left" width="24" height="24"
                                        viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                        stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                        <line x1="10" y1="12" x2="20" y2="12"></line>
                                        <line x1="10" y1="12" x2="14" y2="16"></line>
                                        <line x1="10" y1="12" x2="14" y2="8"></line>
                                        <line x1="4" y1="4" x2="4" y2="20"></line>
                                    </svg>
                                </span>
                            </span>
                        </button>
                    </span>
                </div>
                <!-- /Brand -->

                <!-- /Navbar -->
                <%- include('includes/navbar.ejs'); %>

            </div>
            <div id="hk_menu_backdrop" class="hk-menu-backdrop"></div>
            <!-- /Vertical Nav -->

            <!-- Main Content -->
            <div class="hk-pg-wrapper pb-0">
                <div class="container-xxl">
                    <!-- Page Header -->
                    <div class="hk-pg-header">
                        <h1 class="pg-title">View Banners</h1>
                    </div>
                    <!-- /Page Header -->
                    <!-- Page Body -->
                    <div class="hk-pg-body">
						<div class="tab-content">
							<div class="tab-pane fade show active" id="tab_block_1">
								<div class="row">
									<div class="col-md-12 mb-md-4 mb-3">
										<div class="card card-border mb-0 h-100">
											<div class="card-body">
												<div class="contact-list-view">
													<table id="datable_1" class="table nowrap w-100 mb-5">
														<thead>
															<tr>
																<th><span class="form-check fs-6 mb-0">
																		<input type="checkbox"
																			class="form-check-input check-select-all"
																			id="customCheck1">
																		<label class="form-check-label"
																			for="customCheck1"></label></span>
																</th>
                                                                <th>Banner Name</th>
                                                                <th>Banner Location</th>
                                                                <th>Redirect URL</th>
                                                                <th>Status</th>
                                                                <th style="text-align: center;">Actions</th>
															</tr>
														</thead>
														<tbody>
															<% if(bannerlist !=null){ for (let banner of bannerlist){ %>
																<tr>
																	<td></td>
																	<td>
                                                                        <%=banner.bannerName%>
																	</td>
																	<td>
																		<%=banner.location%>
																	</td>
																	<td>
																		<%=banner.redirectURL%>
																	</td>
																	<td>
                                                                        <% if(banner.isActive==true){ %>
                                                                            <span class="dot-active"></span>
                                                                            <% } else { %>
                                                                                <span class="dot-deactive"></span>
                                                                                <% } %>
																	</td>
																	<td>
																		<div class="d-flex align-items-center">
																			<div class="d-flex" style="padding-left: 90px;">
																				<a class="btn btn-icon btn-flush-dark btn-rounded flush-soft-hover"
																					data-bs-toggle="modal"
																					data-id="<%=banner.bannerCode%>"
																					data-bs-target="#view_info"
																					data-bs-toggle="tooltip"
																					data-placement="top" title=""
																					data-bs-original-title="View"
																					id="openViewModal" href="#">
																					<span class="svg-icon">
																						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
																							<path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
																							<path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
																						  </svg>
																					</span>
																				</a>
																			</div>
																		</div>
																	</td>
																</tr>
																<% } } %>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
                    <!-- /Page Body -->
                </div>

                <!-- Page Footer -->
                <%- include('includes/footer.ejs'); %>

            </div>
            <!-- /Main Content -->
    </div>
    <!-- /Wrapper -->

<!-- jQuery -->
<script src="/vendors/jquery/dist/jquery.min.js"></script>

<!-- Bootstrap Core JS -->
<script src="/vendors/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- FeatherIcons JS -->
<script src="/dist/js/feather.min.js"></script>

<!-- Fancy Dropdown JS -->
<script src="/dist/js/dropdown-bootstrap-extended.js"></script>

<!-- Simplebar JS -->
<script src="/vendors/simplebar/dist/simplebar.min.js"></script>

<!-- Data Table JS -->
<script src="/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="/vendors/datatables.net-bs5/js/dataTables.bootstrap5.min.js"></script>
<script src="/vendors/datatables.net-select/js/dataTables.select.min.js"></script>

<!-- Daterangepicker JS -->
<script src="/vendors/moment/min/moment.min.js"></script>
<script src="/vendors/daterangepicker/daterangepicker.js"></script>
<script src="/dist/js/daterangepicker-data.js"></script>

<!-- Amcharts Maps JS -->
<script src="/vendors/@amcharts/amcharts4/core.js"></script>
<script src="/vendors/@amcharts/amcharts4/maps.js"></script>
<script src="/vendors/@amcharts/amcharts4-geodata/worldLow.js"></script>
<script src="/vendors/@amcharts/amcharts4-geodata/worldHigh.js"></script>
<script src="/vendors/@amcharts/amcharts4/themes/animated.js"></script>

<!-- Apex JS -->
<script src="/vendors/apexcharts/dist/apexcharts.min.js"></script>

<!-- Init JS -->
<script src="/dist/js/init.js"></script>
<script src="/dist/js/chips-init.js"></script>
<script src="/dist/js/dashboard-data.js"></script>

<!-- Toastr  -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>

    <script>
        // View Process
        $(document).on("click", "#openViewModal", function () {
            var code = $(this).data('id');
            $.ajax({
                url: 'http://app360dev-001-site5.dtempurl.com/api/ECommerce/Admin/EcomBanner/' + code,
                type: 'GET',
                headers: {
                    Authorization: 'Bearer ' + '<%=current_user.auth.token%>'
                },
                success: function (res) {
                    //console.log(res.content);
                    $(".modal-body #code").val(res.content.bannerCode);
                    $(".modal-body #name").val(res.content.bannerName);
                    $(".modal-body #location").val(res.content.location);
                    $(".modal-body #url").val(res.content.redirectURL);
                    $('#imgDiv img').remove();
                    var image = res.content.imageURL + " ";
                    var img = $('<img />', { src: "https://storage.googleapis.com/banners_bucket_2/" + image, width: 250, height: 150, class: 'img-thumbnail' }).appendTo($('#imgDiv'));
                    $('#view_info').modal('show');
                }
            })
        });
    </script>

    <!-- View Modal -->
    <div id="view_info" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" style="font-size: 14px;">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                    <h5 class="mb-5">View Banner Info</h5>
                    <form>
                        <div class="row gx-3">
                            <div class="col-sm-6 form-group">
                                <label class="form-label">Banner Code</label>
                                <input class="form-control" type="text" readonly id="code" />
                            </div>
                            <div class="col-sm-6 form-group">
                                <label class="form-label">Banner Name</label>
                                <input class="form-control" type="text" readonly id="name" />
                            </div>
                            <div class="col-sm-6 form-group">
                                <label class="form-label">Banner Location</label>
                                <input class="form-control" type="text" readonly id="location" />
                            </div>
                            <div class="col-sm-6 form-group">
                                <label class="form-label">Banner URL</label>
                                <input class="form-control" type="text" readonly id="url" />
                            </div>
                            <div class="col-sm-12 form-group">
                                <label class="form-label">Banner Image</label><br>
                                <div id="imgDiv">
                                </div>
                            </div>
                    </form>
                </div>
                <div class="modal-footer align-items-center">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!-- /View Modal -->

</body>

</html>